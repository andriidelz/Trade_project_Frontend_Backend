{"ast":null,"code":"import _objectSpread from\"/Users/andriizaliubovskyi/Desktop/IT PROJECTS/Trade_project_Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/andriizaliubovskyi/Desktop/IT PROJECTS/Trade_project_Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/andriizaliubovskyi/Desktop/IT PROJECTS/Trade_project_Frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/andriizaliubovskyi/Desktop/IT PROJECTS/Trade_project_Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andriizaliubovskyi/Desktop/IT PROJECTS/Trade_project_Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{fetchInvoices,createInvoice}from'../api/invoices';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var InvoicesPage=function InvoicesPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),invoices=_useState2[0],setInvoices=_useState2[1];var _useState3=useState({type:'outcome',date:'',total_amount:''}),_useState4=_slicedToArray(_useState3,2),newInvoice=_useState4[0],setNewInvoice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),invoiceFilter=_useState6[0],setInvoiceFilter=_useState6[1];var filteredInvoices=invoices.filter(function(invoice){return invoice.date.includes(invoiceFilter)||invoice.type.includes(invoiceFilter);});useEffect(function(){fetchInvoices().then(setInvoices);},[]);var handleCreate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var createdInvoice;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!newInvoice.type||!newInvoice.date||!newInvoice.total_amount)){_context.next=3;break;}alert('Please fill all fields.');return _context.abrupt(\"return\");case 3:_context.next=5;return createInvoice(newInvoice);case 5:createdInvoice=_context.sent;setInvoices(function(prev){return[].concat(_toConsumableArray(prev),[createdInvoice]);});case 7:case\"end\":return _context.stop();}},_callee);}));return function handleCreate(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Invoices\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-3\",type:\"text\",placeholder:\"Filter invoices\",value:invoiceFilter,onChange:function onChange(e){return setInvoiceFilter(e.target.value);}}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group mb-3\",children:filteredInvoices.map(function(invoice){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[invoice.type,\" - \",invoice.date,\" - $\",invoice.total_amount]},invoice.id);})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type\",value:newInvoice.type,onChange:function onChange(e){return setNewInvoice(_objectSpread(_objectSpread({},newInvoice),{},{type:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",placeholder:\"Date\",value:newInvoice.date,onChange:function onChange(e){return setNewInvoice(_objectSpread(_objectSpread({},newInvoice),{},{date:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Total Amount\",value:newInvoice.total_amount,onChange:function onChange(e){return setNewInvoice(_objectSpread(_objectSpread({},newInvoice),{},{total_amount:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,children:\"Create Invoice\"})]})]});};export default InvoicesPage;","map":{"version":3,"names":["React","useEffect","useState","fetchInvoices","createInvoice","jsx","_jsx","jsxs","_jsxs","InvoicesPage","_useState","_useState2","_slicedToArray","invoices","setInvoices","_useState3","type","date","total_amount","_useState4","newInvoice","setNewInvoice","_useState5","_useState6","invoiceFilter","setInvoiceFilter","filteredInvoices","filter","invoice","includes","then","handleCreate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","createdInvoice","wrap","_callee$","_context","prev","next","alert","abrupt","sent","concat","_toConsumableArray","stop","apply","arguments","className","children","placeholder","value","onChange","e","target","map","id","_objectSpread","onClick"],"sources":["/Users/andriizaliubovskyi/Desktop/IT PROJECTS/Trade_project_Frontend/src/pages/InvoicesPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchInvoices, createInvoice } from '../api/invoices';\n\nconst InvoicesPage = () => {\n    const [invoices, setInvoices] = useState([]);\n    const [newInvoice, setNewInvoice] = useState({ type: 'outcome', date: '', total_amount: '' });\n\nconst [invoiceFilter, setInvoiceFilter] = useState('');\nconst filteredInvoices = invoices.filter((invoice) =>\n    invoice.date.includes(invoiceFilter) || invoice.type.includes(invoiceFilter)\n);\n\n    useEffect(() => {\n        fetchInvoices().then(setInvoices);\n    }, []);\n\n    const handleCreate = async () => {\n        if (!newInvoice.type || !newInvoice.date || !newInvoice.total_amount) {\n            alert('Please fill all fields.');\n            return;\n        }\n\n        const createdInvoice = await createInvoice(newInvoice);\n        setInvoices((prev) => [...prev, createdInvoice]);\n    };\n\n    return (\n        <div className=\"container\">\n            <h1>Invoices</h1>\n            <input\n                className=\"form-control mb-3\"\n                type=\"text\"\n                placeholder=\"Filter invoices\"\n                value={invoiceFilter}\n                onChange={(e) => setInvoiceFilter(e.target.value)}\n            />\n            <ul className=\"list-group mb-3\">\n                {filteredInvoices.map((invoice) => (\n                    <li className=\"list-group-item\" key={invoice.id}>\n                        {invoice.type} - {invoice.date} - ${invoice.total_amount}\n                    </li>\n                ))}\n            </ul>\n            <div>\n                <input\n                    type=\"text\"\n                    placeholder=\"Type\"\n                    value={newInvoice.type}\n                    onChange={(e) => setNewInvoice({ ...newInvoice, type: e.target.value })}\n                />\n                <input\n                    type=\"datetime-local\"\n                    placeholder=\"Date\"\n                    value={newInvoice.date}\n                    onChange={(e) => setNewInvoice({ ...newInvoice, date: e.target.value })}\n                />\n                <input\n                    type=\"number\"\n                    placeholder=\"Total Amount\"\n                    value={newInvoice.total_amount}\n                    onChange={(e) => setNewInvoice({ ...newInvoice, total_amount: e.target.value })}\n                />\n                <button onClick={handleCreate}>Create Invoice</button>\n            </div>\n        </div>\n    );\n};\n\nexport default InvoicesPage;\n"],"mappings":"yxBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,CAAEC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/D,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvB,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAoCb,QAAQ,CAAC,CAAEc,IAAI,CAAE,SAAS,CAAEC,IAAI,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAP,cAAA,CAAAG,UAAA,IAAtFK,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEpC,IAAAG,UAAA,CAA0CpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAX,cAAA,CAAAU,UAAA,IAA/CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC,GAAM,CAAAG,gBAAgB,CAAGb,QAAQ,CAACc,MAAM,CAAC,SAACC,OAAO,QAC7C,CAAAA,OAAO,CAACX,IAAI,CAACY,QAAQ,CAACL,aAAa,CAAC,EAAII,OAAO,CAACZ,IAAI,CAACa,QAAQ,CAACL,aAAa,CAAC,EAChF,CAAC,CAEGvB,SAAS,CAAC,UAAM,CACZE,aAAa,CAAC,CAAC,CAAC2B,IAAI,CAAChB,WAAW,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAiB,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,cAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,cACb,CAACtB,UAAU,CAACJ,IAAI,EAAI,CAACI,UAAU,CAACH,IAAI,EAAI,CAACG,UAAU,CAACF,YAAY,GAAAsB,QAAA,CAAAE,IAAA,UAChEC,KAAK,CAAC,yBAAyB,CAAC,CAAC,OAAAH,QAAA,CAAAI,MAAA,kBAAAJ,QAAA,CAAAE,IAAA,SAIR,CAAAtC,aAAa,CAACgB,UAAU,CAAC,QAAhDiB,cAAc,CAAAG,QAAA,CAAAK,IAAA,CACpB/B,WAAW,CAAC,SAAC2B,IAAI,WAAAK,MAAA,CAAAC,kBAAA,CAASN,IAAI,GAAEJ,cAAc,IAAC,CAAC,CAAC,wBAAAG,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,GACpD,kBARK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAiB,KAAA,MAAAC,SAAA,OAQjB,CAED,mBACI1C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB9C,IAAA,OAAA8C,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB9C,IAAA,UACI6C,SAAS,CAAC,mBAAmB,CAC7BnC,IAAI,CAAC,MAAM,CACXqC,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAE9B,aAAc,CACrB+B,QAAQ,CAAE,QAAV,CAAAA,QAAQA,CAAGC,CAAC,QAAK,CAAA/B,gBAAgB,CAAC+B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CACrD,CAAC,cACFhD,IAAA,OAAI6C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC1B1B,gBAAgB,CAACgC,GAAG,CAAC,SAAC9B,OAAO,qBAC1BpB,KAAA,OAAI2C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC1BxB,OAAO,CAACZ,IAAI,CAAC,KAAG,CAACY,OAAO,CAACX,IAAI,CAAC,MAAI,CAACW,OAAO,CAACV,YAAY,GADvBU,OAAO,CAAC+B,EAEzC,CAAC,EACR,CAAC,CACF,CAAC,cACLnD,KAAA,QAAA4C,QAAA,eACI9C,IAAA,UACIU,IAAI,CAAC,MAAM,CACXqC,WAAW,CAAC,MAAM,CAClBC,KAAK,CAAElC,UAAU,CAACJ,IAAK,CACvBuC,QAAQ,CAAE,QAAV,CAAAA,QAAQA,CAAGC,CAAC,QAAK,CAAAnC,aAAa,CAAAuC,aAAA,CAAAA,aAAA,IAAMxC,UAAU,MAAEJ,IAAI,CAAEwC,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,EAAC,CAC3E,CAAC,cACFhD,IAAA,UACIU,IAAI,CAAC,gBAAgB,CACrBqC,WAAW,CAAC,MAAM,CAClBC,KAAK,CAAElC,UAAU,CAACH,IAAK,CACvBsC,QAAQ,CAAE,QAAV,CAAAA,QAAQA,CAAGC,CAAC,QAAK,CAAAnC,aAAa,CAAAuC,aAAA,CAAAA,aAAA,IAAMxC,UAAU,MAAEH,IAAI,CAAEuC,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,EAAC,CAC3E,CAAC,cACFhD,IAAA,UACIU,IAAI,CAAC,QAAQ,CACbqC,WAAW,CAAC,cAAc,CAC1BC,KAAK,CAAElC,UAAU,CAACF,YAAa,CAC/BqC,QAAQ,CAAE,QAAV,CAAAA,QAAQA,CAAGC,CAAC,QAAK,CAAAnC,aAAa,CAAAuC,aAAA,CAAAA,aAAA,IAAMxC,UAAU,MAAEF,YAAY,CAAEsC,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,EAAC,CACnF,CAAC,cACFhD,IAAA,WAAQuD,OAAO,CAAE9B,YAAa,CAAAqB,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACrD,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA3C,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}